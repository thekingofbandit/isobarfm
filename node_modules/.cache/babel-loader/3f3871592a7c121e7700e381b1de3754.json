{"ast":null,"code":"import * as albumsAPI from \"../services/albums\";\nexport const fetchAlbumsForBand = band => {\n  return (dispatch, getState) => {\n    const bandID = band.id;\n    const albumIDs = band.albums;\n    dispatch(setLoadingAlbums(true));\n    const state = getState();\n\n    if (state.albums.list.length === 0) {\n      albumsAPI.list().then(response => {\n        const albums = response.data;\n        dispatch(setAlbums({\n          albums,\n          bandID,\n          albumIDs\n        }));\n      }).catch(err => {\n        dispatch(setAlbumsError(err));\n      });\n    }\n\n    dispatch(setLoadingAlbums(false));\n  };\n};\nexport const SET_ALBUMS = \"SET_ALBUMS\";\nexport const setAlbums = ({\n  albums,\n  bandID,\n  albumIDs\n}) => {\n  return {\n    type: SET_ALBUMS,\n    value: {\n      albums,\n      bandID,\n      albumIDs\n    }\n  };\n};\nexport const SET_LOADING_ALBUMS = \"SET_LOADING_ALBUMS\";\nexport const setLoadingAlbums = isLoading => {\n  return {\n    type: SET_LOADING_ALBUMS,\n    value: isLoading\n  };\n};\nexport const SET_ALBUMS_ERROR = \"SET_ALBUMS_ERROR\";\nexport const setAlbumsError = error => {\n  return {\n    type: SET_ALBUMS_ERROR,\n    error\n  };\n};","map":{"version":3,"sources":["/Users/i848465/personal/isobarfm/src/actions/albums.js"],"names":["albumsAPI","fetchAlbumsForBand","band","dispatch","getState","bandID","id","albumIDs","albums","setLoadingAlbums","state","list","length","then","response","data","setAlbums","catch","err","setAlbumsError","SET_ALBUMS","type","value","SET_LOADING_ALBUMS","isLoading","SET_ALBUMS_ERROR","error"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,oBAA3B;AAEA,OAAO,MAAMC,kBAAkB,GAAGC,IAAI,IAAI;AACxC,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7B,UAAMC,MAAM,GAAGH,IAAI,CAACI,EAApB;AACA,UAAMC,QAAQ,GAAGL,IAAI,CAACM,MAAtB;AAEAL,IAAAA,QAAQ,CAACM,gBAAgB,CAAC,IAAD,CAAjB,CAAR;AAEA,UAAMC,KAAK,GAAGN,QAAQ,EAAtB;;AAEA,QAAIM,KAAK,CAACF,MAAN,CAAaG,IAAb,CAAkBC,MAAlB,KAA6B,CAAjC,EAAoC;AAClCZ,MAAAA,SAAS,CACNW,IADH,GAEGE,IAFH,CAEQC,QAAQ,IAAI;AAChB,cAAMN,MAAM,GAAGM,QAAQ,CAACC,IAAxB;AACAZ,QAAAA,QAAQ,CAACa,SAAS,CAAC;AAAER,UAAAA,MAAF;AAAUH,UAAAA,MAAV;AAAkBE,UAAAA;AAAlB,SAAD,CAAV,CAAR;AACD,OALH,EAMGU,KANH,CAMSC,GAAG,IAAI;AACZf,QAAAA,QAAQ,CAACgB,cAAc,CAACD,GAAD,CAAf,CAAR;AACD,OARH;AASD;;AAEDf,IAAAA,QAAQ,CAACM,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACD,GArBD;AAsBD,CAvBM;AAyBP,OAAO,MAAMW,UAAU,GAAG,YAAnB;AACP,OAAO,MAAMJ,SAAS,GAAG,CAAC;AAAER,EAAAA,MAAF;AAAUH,EAAAA,MAAV;AAAkBE,EAAAA;AAAlB,CAAD,KAAkC;AACzD,SAAO;AAAEc,IAAAA,IAAI,EAAED,UAAR;AAAoBE,IAAAA,KAAK,EAAE;AAAEd,MAAAA,MAAF;AAAUH,MAAAA,MAAV;AAAkBE,MAAAA;AAAlB;AAA3B,GAAP;AACD,CAFM;AAIP,OAAO,MAAMgB,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMd,gBAAgB,GAAGe,SAAS,IAAI;AAC3C,SAAO;AAAEH,IAAAA,IAAI,EAAEE,kBAAR;AAA4BD,IAAAA,KAAK,EAAEE;AAAnC,GAAP;AACD,CAFM;AAIP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMN,cAAc,GAAGO,KAAK,IAAI;AACrC,SAAO;AAAEL,IAAAA,IAAI,EAAEI,gBAAR;AAA0BC,IAAAA;AAA1B,GAAP;AACD,CAFM","sourcesContent":["import * as albumsAPI from \"../services/albums\";\n\nexport const fetchAlbumsForBand = band => {\n  return (dispatch, getState) => {\n    const bandID = band.id;\n    const albumIDs = band.albums;\n\n    dispatch(setLoadingAlbums(true));\n\n    const state = getState();\n\n    if (state.albums.list.length === 0) {\n      albumsAPI\n        .list()\n        .then(response => {\n          const albums = response.data;\n          dispatch(setAlbums({ albums, bandID, albumIDs }));\n        })\n        .catch(err => {\n          dispatch(setAlbumsError(err));\n        });\n    }\n\n    dispatch(setLoadingAlbums(false));\n  };\n};\n\nexport const SET_ALBUMS = \"SET_ALBUMS\";\nexport const setAlbums = ({ albums, bandID, albumIDs }) => {\n  return { type: SET_ALBUMS, value: { albums, bandID, albumIDs } };\n};\n\nexport const SET_LOADING_ALBUMS = \"SET_LOADING_ALBUMS\";\nexport const setLoadingAlbums = isLoading => {\n  return { type: SET_LOADING_ALBUMS, value: isLoading };\n};\n\nexport const SET_ALBUMS_ERROR = \"SET_ALBUMS_ERROR\";\nexport const setAlbumsError = error => {\n  return { type: SET_ALBUMS_ERROR, error };\n};\n"]},"metadata":{},"sourceType":"module"}