{"ast":null,"code":"import * as albumsAPI from \"../services/albums\";\nexport const fetchAlbumsForBand = band => {\n  console.log(band);\n  const bandID = band.id;\n  return (dispatch, getState) => {\n    dispatch(setLoadingAlbums(true));\n    const state = getState();\n\n    if (state.albums.list.length === 0) {\n      albumsAPI.list().then(response => {\n        const albums = response.data;\n        dispatch(setAlbums({\n          albums,\n          bandID\n        }));\n      }).catch(err => {\n        dispatch(setAlbumsError(err));\n      });\n    }\n\n    dispatch(setLoadingAlbums(false));\n  };\n};\nexport const SET_ALBUMS = \"SET_ALBUMS\";\nexport const setAlbums = ({\n  albums,\n  bandID\n}) => {\n  return {\n    type: SET_ALBUMS,\n    value: {\n      albums,\n      bandID\n    }\n  };\n};\nexport const SET_LOADING_ALBUMS = \"SET_LOADING_ALBUMS\";\nexport const setLoadingAlbums = isLoading => {\n  return {\n    type: SET_LOADING_ALBUMS,\n    value: isLoading\n  };\n};\nexport const SET_ALBUMS_ERROR = \"SET_ALBUMS_ERROR\";\nexport const setAlbumsError = error => {\n  return {\n    type: SET_ALBUMS_ERROR,\n    error\n  };\n};","map":{"version":3,"sources":["/Users/i848465/personal/isobarfm/src/actions/albums.js"],"names":["albumsAPI","fetchAlbumsForBand","band","console","log","bandID","id","dispatch","getState","setLoadingAlbums","state","albums","list","length","then","response","data","setAlbums","catch","err","setAlbumsError","SET_ALBUMS","type","value","SET_LOADING_ALBUMS","isLoading","SET_ALBUMS_ERROR","error"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,oBAA3B;AAEA,OAAO,MAAMC,kBAAkB,GAAGC,IAAI,IAAI;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,QAAMG,MAAM,GAAGH,IAAI,CAACI,EAApB;AACA,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7BD,IAAAA,QAAQ,CAACE,gBAAgB,CAAC,IAAD,CAAjB,CAAR;AAEA,UAAMC,KAAK,GAAGF,QAAQ,EAAtB;;AAEA,QAAIE,KAAK,CAACC,MAAN,CAAaC,IAAb,CAAkBC,MAAlB,KAA6B,CAAjC,EAAoC;AAClCb,MAAAA,SAAS,CACNY,IADH,GAEGE,IAFH,CAEQC,QAAQ,IAAI;AAChB,cAAMJ,MAAM,GAAGI,QAAQ,CAACC,IAAxB;AACAT,QAAAA,QAAQ,CAACU,SAAS,CAAC;AAAEN,UAAAA,MAAF;AAAUN,UAAAA;AAAV,SAAD,CAAV,CAAR;AACD,OALH,EAMGa,KANH,CAMSC,GAAG,IAAI;AACZZ,QAAAA,QAAQ,CAACa,cAAc,CAACD,GAAD,CAAf,CAAR;AACD,OARH;AASD;;AAEDZ,IAAAA,QAAQ,CAACE,gBAAgB,CAAC,KAAD,CAAjB,CAAR;AACD,GAlBD;AAmBD,CAtBM;AAwBP,OAAO,MAAMY,UAAU,GAAG,YAAnB;AACP,OAAO,MAAMJ,SAAS,GAAG,CAAC;AAAEN,EAAAA,MAAF;AAAUN,EAAAA;AAAV,CAAD,KAAwB;AAC/C,SAAO;AAAEiB,IAAAA,IAAI,EAAED,UAAR;AAAoBE,IAAAA,KAAK,EAAE;AAAEZ,MAAAA,MAAF;AAAUN,MAAAA;AAAV;AAA3B,GAAP;AACD,CAFM;AAIP,OAAO,MAAMmB,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMf,gBAAgB,GAAGgB,SAAS,IAAI;AAC3C,SAAO;AAAEH,IAAAA,IAAI,EAAEE,kBAAR;AAA4BD,IAAAA,KAAK,EAAEE;AAAnC,GAAP;AACD,CAFM;AAIP,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMN,cAAc,GAAGO,KAAK,IAAI;AACrC,SAAO;AAAEL,IAAAA,IAAI,EAAEI,gBAAR;AAA0BC,IAAAA;AAA1B,GAAP;AACD,CAFM","sourcesContent":["import * as albumsAPI from \"../services/albums\";\n\nexport const fetchAlbumsForBand = band => {\n  console.log(band);\n  const bandID = band.id;\n  return (dispatch, getState) => {\n    dispatch(setLoadingAlbums(true));\n\n    const state = getState();\n\n    if (state.albums.list.length === 0) {\n      albumsAPI\n        .list()\n        .then(response => {\n          const albums = response.data;\n          dispatch(setAlbums({ albums, bandID }));\n        })\n        .catch(err => {\n          dispatch(setAlbumsError(err));\n        });\n    }\n\n    dispatch(setLoadingAlbums(false));\n  };\n};\n\nexport const SET_ALBUMS = \"SET_ALBUMS\";\nexport const setAlbums = ({ albums, bandID }) => {\n  return { type: SET_ALBUMS, value: { albums, bandID } };\n};\n\nexport const SET_LOADING_ALBUMS = \"SET_LOADING_ALBUMS\";\nexport const setLoadingAlbums = isLoading => {\n  return { type: SET_LOADING_ALBUMS, value: isLoading };\n};\n\nexport const SET_ALBUMS_ERROR = \"SET_ALBUMS_ERROR\";\nexport const setAlbumsError = error => {\n  return { type: SET_ALBUMS_ERROR, error };\n};\n"]},"metadata":{},"sourceType":"module"}